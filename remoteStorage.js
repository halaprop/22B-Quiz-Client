const a0_0x26216f=a0_0x5542;function a0_0x5542(_0x591437,_0x116fb2){const _0x1c9547=a0_0x1c95();return a0_0x5542=function(_0x55422a,_0x2428f7){_0x55422a=_0x55422a-0xe1;let _0x204ef6=_0x1c9547[_0x55422a];return _0x204ef6;},a0_0x5542(_0x591437,_0x116fb2);}(function(_0x17ce52,_0x5b6346){const _0x4a019c=a0_0x5542,_0x3b0cd7=_0x17ce52();while(!![]){try{const _0x4557fe=-parseInt(_0x4a019c(0xe6))/0x1+-parseInt(_0x4a019c(0xe1))/0x2*(parseInt(_0x4a019c(0xf7))/0x3)+parseInt(_0x4a019c(0xec))/0x4*(-parseInt(_0x4a019c(0xf9))/0x5)+-parseInt(_0x4a019c(0xfd))/0x6+parseInt(_0x4a019c(0x104))/0x7+parseInt(_0x4a019c(0xfb))/0x8+-parseInt(_0x4a019c(0xe4))/0x9;if(_0x4557fe===_0x5b6346)break;else _0x3b0cd7['push'](_0x3b0cd7['shift']());}catch(_0x3a1c1a){_0x3b0cd7['push'](_0x3b0cd7['shift']());}}}(a0_0x1c95,0xc84d3));function a0_0x1c95(){const _0x3589dc=['keys','endpoint','removeItem','all','359996bcFFje','DELETE','getItem','clear','append','fetch','stringify','map','message','json','toString','3LWVdtt','requestHeaders','5CAMwaE','/get','10160096IvvJpr','namespace','440058KdwiZt','body','setItem','/delete','GET','keysPaged','entries','9222332ZOggDi','application/json','2738638iZINfh','log','getItemWithMetadata','460782OrFzWp','POST','183194kWnaEK','https://remote-storage.dan-5d7.workers.dev/v1'];a0_0x1c95=function(){return _0x3589dc;};return a0_0x1c95();}export class RemoteStorage{constructor(_0x1d930e,_0xca19f4){const _0x5f1ef6=a0_0x5542;this['namespace']=_0x1d930e,this[_0x5f1ef6(0xe9)]=_0x5f1ef6(0xe7),this[_0x5f1ef6(0xf8)]={'Authorization':_0xca19f4,'Content-Type':_0x5f1ef6(0x105)};}async[a0_0x26216f(0xe8)](){let _0x248ec5=[],_0x3885fe=null;while(!![]){const {keys:_0x6011fd,cursor:_0x4c585f,list_complete:_0xea3b47}=await this['keysPaged']({'cursor':_0x3885fe});_0x248ec5['push'](..._0x6011fd);if(_0xea3b47)break;_0x3885fe=_0x4c585f;}return _0x248ec5;}async[a0_0x26216f(0x102)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x46025e=a0_0x26216f;return this[_0x46025e(0xf1)](_0x46025e(0x101),'/list',null,{'limit':limit,'cursor':cursor});}async[a0_0x26216f(0xff)](_0x1d65ed,_0x41e4a5){const _0x317e8d=a0_0x26216f;return this[_0x317e8d(0xf1)](_0x317e8d(0xe5),'/set',{'key':_0x1d65ed,'value':_0x41e4a5});}async[a0_0x26216f(0xee)](_0x13de21){const _0x1a909c=a0_0x26216f;return this['fetch']('GET',_0x1a909c(0xfa),null,{'key':_0x13de21});}async[a0_0x26216f(0xe3)](_0x427435){return this['fetch']('GET','/getWithMetadata',null,{'key':_0x427435});}async[a0_0x26216f(0xea)](_0x50564d){const _0x1efb8e=a0_0x26216f;return this['fetch'](_0x1efb8e(0xed),_0x1efb8e(0x100),null,{'key':_0x50564d});}async[a0_0x26216f(0xef)](){const _0x3dc83a=a0_0x26216f,_0x21a61f=await this[_0x3dc83a(0xe8)](),_0x16dece=_0x21a61f[_0x3dc83a(0xf3)](_0x11920b=>this[_0x3dc83a(0xea)](_0x11920b));return Promise[_0x3dc83a(0xeb)](_0x16dece)['then'](()=>null);}async[a0_0x26216f(0xf1)](_0x36d2e7,_0x37d8af,_0x2a4411=null,_0x2e3aa5={}){const _0x3325f1=a0_0x26216f;_0x2e3aa5={..._0x2e3aa5,'namespace':this[_0x3325f1(0xfc)]};let _0xac544e=new URL(''+this[_0x3325f1(0xe9)]+_0x37d8af);const _0x19cca5=new URLSearchParams();for(const [_0x51ad61,_0x4b4240]of Object[_0x3325f1(0x103)](_0x2e3aa5)){_0x4b4240!==undefined&&_0x4b4240!==null&&_0x19cca5[_0x3325f1(0xf0)](_0x51ad61,_0x4b4240);}_0xac544e['search']=_0x19cca5[_0x3325f1(0xf6)]();const _0x421455={'method':_0x36d2e7,'headers':this['requestHeaders']};if(_0x2a4411)_0x421455[_0x3325f1(0xfe)]=JSON[_0x3325f1(0xf2)](_0x2a4411);try{const _0x59a7cd=await fetch(_0xac544e,_0x421455),_0x3bd5f7=await _0x59a7cd[_0x3325f1(0xf5)]();return _0x3bd5f7;}catch(_0x15060b){console[_0x3325f1(0xe2)](_0x36d2e7+'\x20'+_0xac544e+'\x20â†’\x20ERROR:\x20'+_0x15060b[_0x3325f1(0xf4)]);throw _0x15060b;}}}