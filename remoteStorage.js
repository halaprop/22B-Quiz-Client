const a0_0x38b8ef=a0_0x1af3;function a0_0x1af3(_0x338e8f,_0x5ecb6b){const _0x2c9a0f=a0_0x2c9a();return a0_0x1af3=function(_0x1af331,_0x1b790e){_0x1af331=_0x1af331-0x149;let _0x4e57a9=_0x2c9a0f[_0x1af331];return _0x4e57a9;},a0_0x1af3(_0x338e8f,_0x5ecb6b);}(function(_0x5a88de,_0x229bf4){const _0xc9e769=a0_0x1af3,_0x58ff2b=_0x5a88de();while(!![]){try{const _0x274053=-parseInt(_0xc9e769(0x159))/0x1*(-parseInt(_0xc9e769(0x166))/0x2)+parseInt(_0xc9e769(0x168))/0x3*(-parseInt(_0xc9e769(0x164))/0x4)+-parseInt(_0xc9e769(0x162))/0x5+-parseInt(_0xc9e769(0x149))/0x6+-parseInt(_0xc9e769(0x167))/0x7*(parseInt(_0xc9e769(0x156))/0x8)+parseInt(_0xc9e769(0x15b))/0x9+parseInt(_0xc9e769(0x169))/0xa;if(_0x274053===_0x229bf4)break;else _0x58ff2b['push'](_0x58ff2b['shift']());}catch(_0x3cc79a){_0x58ff2b['push'](_0x58ff2b['shift']());}}}(a0_0x2c9a,0x6cab5));function a0_0x2c9a(){const _0xb6a1f2=['3pxHbAf','24492710axJxer','/list','fetch','GET','toString','3126408WPzNaB','/set','setItem','list','/delete','\x20â†’\x20ERROR:\x20','json','push','POST','map','namespace','getItemWithMetadata','removeItem','228752mSuTUo','all','/getWithMetadata','49143CtOwGK','clear','3251718eGBaYC','stringify','endpoint','/get','keys','getItem','requestHeaders','4206685BlXofN','body','2103516uBkvMf','keysPaged','12bqZzTG','189fcruxP'];a0_0x2c9a=function(){return _0xb6a1f2;};return a0_0x2c9a();}export class RemoteStorage{constructor(_0x29ddfa,_0x59e9a6){const _0x474f7d=a0_0x1af3;this[_0x474f7d(0x153)]=_0x29ddfa,this[_0x474f7d(0x15d)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x474f7d(0x161)]={'Authorization':_0x59e9a6,'Content-Type':'application/json'};}async[a0_0x38b8ef(0x15f)](){const _0x3629c7=a0_0x38b8ef;let _0x549bc3=[],_0x118e88=null;while(!![]){const {keys:_0x4e5424,cursor:_0xd61e6,list_complete:_0x4c9b57}=await this[_0x3629c7(0x165)]({'cursor':_0x118e88});_0x549bc3[_0x3629c7(0x150)](..._0x4e5424);if(_0x4c9b57)break;_0x118e88=_0xd61e6;}return _0x549bc3;}async[a0_0x38b8ef(0x165)]({limit:limit=0x3e8,cursor:_0x4dcaff=null}={}){const _0x26fa56=a0_0x38b8ef,{items:_0x36bf80,cursor:_0x2fcde3,list_complete:_0x5203d2}=await this[_0x26fa56(0x14c)]({'limit':limit,'cursor':_0x4dcaff}),_0x5703b1=_0x36bf80[_0x26fa56(0x152)](_0x466e59=>_0x466e59['name']);return{'keys':_0x5703b1,'cursor':_0x2fcde3,'list_complete':_0x5203d2};}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x2af60d=a0_0x38b8ef;return this[_0x2af60d(0x16b)](_0x2af60d(0x16c),_0x2af60d(0x16a),null,{'limit':limit,'cursor':cursor});}async[a0_0x38b8ef(0x14b)](_0x587def,_0xae50f1){const _0x307420=a0_0x38b8ef;return this[_0x307420(0x16b)](_0x307420(0x151),_0x307420(0x14a),{'key':_0x587def,'value':_0xae50f1});}async[a0_0x38b8ef(0x160)](_0x146f9d){const _0x3cfc6e=a0_0x38b8ef;return this[_0x3cfc6e(0x16b)](_0x3cfc6e(0x16c),_0x3cfc6e(0x15e),null,{'key':_0x146f9d});}async[a0_0x38b8ef(0x154)](_0x4b8456){const _0x11a387=a0_0x38b8ef;return this[_0x11a387(0x16b)](_0x11a387(0x16c),_0x11a387(0x158),null,{'key':_0x4b8456});}async[a0_0x38b8ef(0x155)](_0x5e1c2f){const _0x138326=a0_0x38b8ef;return this['fetch']('DELETE',_0x138326(0x14d),null,{'key':_0x5e1c2f});}async[a0_0x38b8ef(0x15a)](){const _0x40f95b=a0_0x38b8ef,_0x2e5ae9=await this[_0x40f95b(0x15f)](),_0x3daf2e=_0x2e5ae9['map'](_0x5753e5=>this['removeItem'](_0x5753e5));return await Promise[_0x40f95b(0x157)](_0x3daf2e),null;}async[a0_0x38b8ef(0x16b)](_0x13fefe,_0x1691cc,_0x33c948=null,_0x3393c4={}){const _0x10403a=a0_0x38b8ef;_0x3393c4={..._0x3393c4,'namespace':this[_0x10403a(0x153)]};let _0x3e3dff=new URL(''+this[_0x10403a(0x15d)]+_0x1691cc);const _0x595f85=new URLSearchParams();for(const [_0x4dc71d,_0x1e0d33]of Object['entries'](_0x3393c4)){_0x1e0d33!==undefined&&_0x1e0d33!==null&&_0x595f85['append'](_0x4dc71d,_0x1e0d33);}_0x3e3dff['search']=_0x595f85[_0x10403a(0x16d)]();const _0x56cdc2={'method':_0x13fefe,'headers':this[_0x10403a(0x161)]};if(_0x33c948)_0x56cdc2[_0x10403a(0x163)]=JSON[_0x10403a(0x15c)](_0x33c948);try{const _0x171749=await fetch(_0x3e3dff,_0x56cdc2),_0x227994=await _0x171749[_0x10403a(0x14f)]();if(!_0x171749['ok'])throw{'error':_0x227994};return _0x227994;}catch(_0x24d273){console['log'](_0x13fefe+'\x20'+_0x3e3dff+_0x10403a(0x14e)+_0x24d273['message']);throw _0x24d273;}}}