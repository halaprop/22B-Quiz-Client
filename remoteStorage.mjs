const a0_0x295f00=a0_0x3416;function a0_0x3416(_0x229c70,_0x3cdf9c){const _0x144517=a0_0x1445();return a0_0x3416=function(_0x341678,_0x276993){_0x341678=_0x341678-0x193;let _0x2ec61b=_0x144517[_0x341678];return _0x2ec61b;},a0_0x3416(_0x229c70,_0x3cdf9c);}(function(_0xa5233d,_0x45eeb7){const _0x5beb6a=a0_0x3416,_0xd9acb7=_0xa5233d();while(!![]){try{const _0xa1f719=parseInt(_0x5beb6a(0x1b8))/0x1+parseInt(_0x5beb6a(0x1bc))/0x2*(-parseInt(_0x5beb6a(0x19b))/0x3)+-parseInt(_0x5beb6a(0x1a6))/0x4+parseInt(_0x5beb6a(0x1bd))/0x5*(-parseInt(_0x5beb6a(0x1a2))/0x6)+-parseInt(_0x5beb6a(0x198))/0x7*(parseInt(_0x5beb6a(0x19a))/0x8)+parseInt(_0x5beb6a(0x1a9))/0x9+parseInt(_0x5beb6a(0x1b6))/0xa*(parseInt(_0x5beb6a(0x19f))/0xb);if(_0xa1f719===_0x45eeb7)break;else _0xd9acb7['push'](_0xd9acb7['shift']());}catch(_0x4b3e3b){_0xd9acb7['push'](_0xd9acb7['shift']());}}}(a0_0x1445,0x4aaea));function a0_0x1445(){const _0x550ee5=['all','2727153OoZsQe','search','DELETE','body','endpoint','name','fetch','POST','length','keys','list','/set','some','15590HEmCSs','requestHeaders','75889PXxRCN','append','namespace','removeItem','2414alhCGH','15CzoXov','getNamespace','getItem','setItem','keysPaged','entries','clear','message','7CTsKFa','GET','2466616iCLzAX','315ZYDWzf','getItemWithMetadata','stringify','application/json','4796wAqghj','push','startsWith','521538FgCrcp','map','log','json','227604FfpcQw','/get'];a0_0x1445=function(){return _0x550ee5;};return a0_0x1445();}export class RemoteStorage{constructor(_0x21ceb7,_0x8605bb){const _0x12cdb3=a0_0x3416;this[_0x12cdb3(0x1ba)]=_0x21ceb7,this[_0x12cdb3(0x1ad)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x12cdb3(0x1b7)]={'Authorization':_0x8605bb,'Content-Type':_0x12cdb3(0x19e)};}async[a0_0x295f00(0x1b2)](){const _0x475bb5=a0_0x295f00;let _0x15d473=[],_0x1c3623=null;while(!![]){const {keys:_0xf1ff20,cursor:_0x575ada,list_complete:_0x180d0f}=await this[_0x475bb5(0x194)]({'cursor':_0x1c3623});_0x15d473[_0x475bb5(0x1a0)](..._0xf1ff20);if(_0x180d0f)break;_0x1c3623=_0x575ada;}return _0x15d473;}async[a0_0x295f00(0x194)]({limit:limit=0x3e8,cursor:_0x582334=null}={}){const _0x3dac0e=a0_0x295f00,{items:_0x2739b4,cursor:_0x3fbedd,list_complete:_0x4be967}=await this[_0x3dac0e(0x1b3)]({'limit':limit,'cursor':_0x582334}),_0x1a8319=_0x2739b4[_0x3dac0e(0x1a3)](_0x9b335b=>_0x9b335b['name']);return{'keys':_0x1a8319,'cursor':_0x3fbedd,'list_complete':_0x4be967};}async[a0_0x295f00(0x1be)](..._0x1acc95){const _0x13007f=a0_0x295f00,_0xa1bb38={};let _0xe3c88d=null;while(!![]){const {items:_0x316a71,cursor:_0x4294d3,list_complete:_0x280545}=await this[_0x13007f(0x1b3)]({'cursor':_0xe3c88d}),_0x3fb547=_0x1acc95[_0x13007f(0x1b1)]?_0x316a71['filter'](_0x233f57=>_0x1acc95[_0x13007f(0x1b5)](_0x2a22f8=>_0x233f57[_0x13007f(0x1ae)][_0x13007f(0x1a1)](_0x2a22f8))):_0x316a71,_0x16e72b=_0x3fb547[_0x13007f(0x1a3)](async({name:_0x36d4aa,metadata:_0x92b9db})=>{const _0x3449a2=_0x13007f,_0x2102a2=await this[_0x3449a2(0x1bf)](_0x36d4aa);_0xa1bb38[_0x36d4aa]={'value':_0x2102a2,'metadata':_0x92b9db};});await Promise[_0x13007f(0x1a8)](_0x16e72b);if(_0x280545)break;_0xe3c88d=_0x4294d3;}return _0xa1bb38;}async[a0_0x295f00(0x1b3)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x1e0033=a0_0x295f00;return this[_0x1e0033(0x1af)](_0x1e0033(0x199),'/list',null,{'limit':limit,'cursor':cursor});}async[a0_0x295f00(0x193)](_0x574c4e,_0x26b5ea){const _0x97f247=a0_0x295f00;return this[_0x97f247(0x1af)](_0x97f247(0x1b0),_0x97f247(0x1b4),{'key':_0x574c4e,'value':_0x26b5ea});}async[a0_0x295f00(0x1bf)](_0x27cc4c){const _0x260352=a0_0x295f00;return this[_0x260352(0x1af)](_0x260352(0x199),_0x260352(0x1a7),null,{'key':_0x27cc4c});}async[a0_0x295f00(0x19c)](_0x4bc808){const _0xc46047=a0_0x295f00;return this[_0xc46047(0x1af)](_0xc46047(0x199),'/getWithMetadata',null,{'key':_0x4bc808});}async[a0_0x295f00(0x1bb)](_0x260a41){const _0x12f8d5=a0_0x295f00;return this[_0x12f8d5(0x1af)](_0x12f8d5(0x1ab),'/delete',null,{'key':_0x260a41});}async[a0_0x295f00(0x196)](){const _0x3abf0c=a0_0x295f00,_0x3f140c=await this[_0x3abf0c(0x1b2)](),_0x2b47a4=_0x3f140c[_0x3abf0c(0x1a3)](_0xaaafde=>this[_0x3abf0c(0x1bb)](_0xaaafde));return await Promise['all'](_0x2b47a4),null;}async[a0_0x295f00(0x1af)](_0x5842b7,_0x38e3e9,_0x52be45=null,_0x5bce41={}){const _0x283677=a0_0x295f00;_0x5bce41={..._0x5bce41,'namespace':this[_0x283677(0x1ba)]};let _0x3ea1f1=new URL(''+this['endpoint']+_0x38e3e9);const _0x4dcf3d=new URLSearchParams();for(const [_0x4971e5,_0x1d26d0]of Object[_0x283677(0x195)](_0x5bce41)){_0x1d26d0!==undefined&&_0x1d26d0!==null&&_0x4dcf3d[_0x283677(0x1b9)](_0x4971e5,_0x1d26d0);}_0x3ea1f1[_0x283677(0x1aa)]=_0x4dcf3d['toString']();const _0x1681ea={'method':_0x5842b7,'headers':this['requestHeaders']};if(_0x52be45)_0x1681ea[_0x283677(0x1ac)]=JSON[_0x283677(0x19d)](_0x52be45);try{const _0x234d00=await fetch(_0x3ea1f1,_0x1681ea),_0x32c45d=await _0x234d00[_0x283677(0x1a5)]();if(!_0x234d00['ok'])throw{'error':_0x32c45d};return _0x32c45d;}catch(_0x48e1ee){console[_0x283677(0x1a4)](_0x5842b7+'\x20'+_0x3ea1f1+'\x20â†’\x20ERROR:\x20'+_0x48e1ee[_0x283677(0x197)]);throw _0x48e1ee;}}}