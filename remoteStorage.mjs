const a0_0x32c4be=a0_0xf9d4;(function(_0x31e9eb,_0x5f3945){const _0x157944=a0_0xf9d4,_0x545eeb=_0x31e9eb();while(!![]){try{const _0x31c3b1=-parseInt(_0x157944(0xda))/0x1+-parseInt(_0x157944(0xc8))/0x2+parseInt(_0x157944(0xc9))/0x3+-parseInt(_0x157944(0xdb))/0x4*(parseInt(_0x157944(0xdd))/0x5)+-parseInt(_0x157944(0xd1))/0x6*(-parseInt(_0x157944(0xc0))/0x7)+-parseInt(_0x157944(0xb9))/0x8+parseInt(_0x157944(0xc3))/0x9*(parseInt(_0x157944(0xd4))/0xa);if(_0x31c3b1===_0x5f3945)break;else _0x545eeb['push'](_0x545eeb['shift']());}catch(_0x43b5ff){_0x545eeb['push'](_0x545eeb['shift']());}}}(a0_0x3df0,0x7f165));function a0_0x3df0(){const _0x4ba60f=['getItemWithMetadata','append','toString','/getWithMetadata','removeItem','42KAACTH','/set','push','20743146bgnIpi','/list','stringify','entries','list','1274022rATSOY','2166198qdMQZu','/delete','keysPaged','map','/get','name','keys','GET','314508pgIJZd','clear','message','10CYupQe','endpoint','all','fetch','getNamespace','getItem','735863FGSplw','26744jTbLuh','requestHeaders','730mVqWBz','3774312JVtAJf','\x20â†’\x20ERROR:\x20'];a0_0x3df0=function(){return _0x4ba60f;};return a0_0x3df0();}function a0_0xf9d4(_0x1cd3d4,_0xf7dbd2){const _0x3df015=a0_0x3df0();return a0_0xf9d4=function(_0xf9d4dc,_0x54f4af){_0xf9d4dc=_0xf9d4dc-0xb9;let _0x1d36f4=_0x3df015[_0xf9d4dc];return _0x1d36f4;},a0_0xf9d4(_0x1cd3d4,_0xf7dbd2);}export class RemoteStorage{constructor(_0x33de9b,_0x5bead6){const _0x42661f=a0_0xf9d4;this['namespace']=_0x33de9b,this[_0x42661f(0xd5)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x42661f(0xdc)]={'Authorization':_0x5bead6,'Content-Type':'application/json'};}async['keys'](){const _0x5a302f=a0_0xf9d4;let _0x451bbe=[],_0x4bcc65=null;while(!![]){const {keys:_0x41deba,cursor:_0x81017d,list_complete:_0x5c34fa}=await this['keysPaged']({'cursor':_0x4bcc65});_0x451bbe[_0x5a302f(0xc2)](..._0x41deba);if(_0x5c34fa)break;_0x4bcc65=_0x81017d;}return _0x451bbe;}async[a0_0x32c4be(0xcb)]({limit:limit=0x3e8,cursor:_0x2995c3=null}={}){const _0x5ad7a5=a0_0x32c4be,{items:_0x284f1d,cursor:_0x507567,list_complete:_0x50ae7b}=await this[_0x5ad7a5(0xc7)]({'limit':limit,'cursor':_0x2995c3}),_0x2149de=_0x284f1d[_0x5ad7a5(0xcc)](_0x3f714d=>_0x3f714d[_0x5ad7a5(0xce)]);return{'keys':_0x2149de,'cursor':_0x507567,'list_complete':_0x50ae7b};}async[a0_0x32c4be(0xd8)](){const _0x484a07=a0_0x32c4be;let _0x22cf48={},_0x27c054=null;while(!![]){const {items:_0x4dcf74,cursor:_0x3e381b,list_complete:_0x1d32f6}=await this[_0x484a07(0xc7)]({'cursor':_0x27c054});for(let _0x5660ed of _0x4dcf74){const {name:_0x3c06fd,metadata:_0x1656a2}=_0x5660ed,_0x106715=await this[_0x484a07(0xd9)](_0x3c06fd);_0x22cf48[_0x3c06fd]={'value':_0x106715,'metadata':_0x1656a2};}if(_0x1d32f6)break;_0x27c054=_0x3e381b;}return _0x22cf48;}async[a0_0x32c4be(0xc7)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x2d0ff5=a0_0x32c4be;return this['fetch'](_0x2d0ff5(0xd0),_0x2d0ff5(0xc4),null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x516327,_0x367f53){const _0x5d80c2=a0_0x32c4be;return this[_0x5d80c2(0xd7)]('POST',_0x5d80c2(0xc1),{'key':_0x516327,'value':_0x367f53});}async[a0_0x32c4be(0xd9)](_0x3faf16){const _0x103cc2=a0_0x32c4be;return this[_0x103cc2(0xd7)](_0x103cc2(0xd0),_0x103cc2(0xcd),null,{'key':_0x3faf16});}async[a0_0x32c4be(0xbb)](_0x46c678){const _0x166eb6=a0_0x32c4be;return this[_0x166eb6(0xd7)](_0x166eb6(0xd0),_0x166eb6(0xbe),null,{'key':_0x46c678});}async[a0_0x32c4be(0xbf)](_0x29d9e6){const _0x42ef82=a0_0x32c4be;return this[_0x42ef82(0xd7)]('DELETE',_0x42ef82(0xca),null,{'key':_0x29d9e6});}async[a0_0x32c4be(0xd2)](){const _0x4f0e71=a0_0x32c4be,_0x5488f0=await this[_0x4f0e71(0xcf)](),_0x5d5a75=_0x5488f0[_0x4f0e71(0xcc)](_0x227479=>this[_0x4f0e71(0xbf)](_0x227479));return await Promise[_0x4f0e71(0xd6)](_0x5d5a75),null;}async[a0_0x32c4be(0xd7)](_0x1a0fb0,_0x1731de,_0x2f7203=null,_0x12d50b={}){const _0x56402b=a0_0x32c4be;_0x12d50b={..._0x12d50b,'namespace':this['namespace']};let _0x2f4af9=new URL(''+this[_0x56402b(0xd5)]+_0x1731de);const _0x4a198b=new URLSearchParams();for(const [_0x2e21bb,_0x107afc]of Object[_0x56402b(0xc6)](_0x12d50b)){_0x107afc!==undefined&&_0x107afc!==null&&_0x4a198b[_0x56402b(0xbc)](_0x2e21bb,_0x107afc);}_0x2f4af9['search']=_0x4a198b[_0x56402b(0xbd)]();const _0x46df74={'method':_0x1a0fb0,'headers':this[_0x56402b(0xdc)]};if(_0x2f7203)_0x46df74['body']=JSON[_0x56402b(0xc5)](_0x2f7203);try{const _0x3ce122=await fetch(_0x2f4af9,_0x46df74),_0x3fd01a=await _0x3ce122['json']();if(!_0x3ce122['ok'])throw{'error':_0x3fd01a};return _0x3fd01a;}catch(_0x51975b){console['log'](_0x1a0fb0+'\x20'+_0x2f4af9+_0x56402b(0xba)+_0x51975b[_0x56402b(0xd3)]);throw _0x51975b;}}}