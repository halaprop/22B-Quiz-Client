function a0_0x1f3f(){const _0x278369=['append','4MAohSO','keysPaged','20gVOFdw','fetch','18723LPcWnW','223034xeBdgj','stringify','2500322QQrYZz','removeItem','search','namespace','1153650aqlMti','log','2161765XDStAQ','application/json','keys','some','4330224VkeqeY','name','filter','all','getNamespace','list','toString','DELETE','requestHeaders','body','2606552MhqfhO','push','https://remote-storage.dan-5d7.workers.dev/v1','POST','endpoint','message','map','setItem','12tXVlRA','/delete','46aPNeEJ','getItemWithMetadata','json','/list','GET','getItem','startsWith','length'];a0_0x1f3f=function(){return _0x278369;};return a0_0x1f3f();}const a0_0x29ec5e=a0_0x4c5f;(function(_0x2179a9,_0xf6c174){const _0x481a4c=a0_0x4c5f,_0x1321ca=_0x2179a9();while(!![]){try{const _0x1a47d9=parseInt(_0x481a4c(0x191))/0x1*(-parseInt(_0x481a4c(0x184))/0x2)+-parseInt(_0x481a4c(0x198))/0x3+parseInt(_0x481a4c(0x18d))/0x4*(parseInt(_0x481a4c(0x19a))/0x5)+-parseInt(_0x481a4c(0x182))/0x6*(-parseInt(_0x481a4c(0x192))/0x7)+-parseInt(_0x481a4c(0x1a8))/0x8+parseInt(_0x481a4c(0x19e))/0x9+parseInt(_0x481a4c(0x18f))/0xa*(parseInt(_0x481a4c(0x194))/0xb);if(_0x1a47d9===_0xf6c174)break;else _0x1321ca['push'](_0x1321ca['shift']());}catch(_0x46edb7){_0x1321ca['push'](_0x1321ca['shift']());}}}(a0_0x1f3f,0x47003));function a0_0x4c5f(_0x5d4f9a,_0x44707d){const _0x1f3ff9=a0_0x1f3f();return a0_0x4c5f=function(_0x4c5fbf,_0x172d2f){_0x4c5fbf=_0x4c5fbf-0x17c;let _0x11cfa5=_0x1f3ff9[_0x4c5fbf];return _0x11cfa5;},a0_0x4c5f(_0x5d4f9a,_0x44707d);}export class RemoteStorage{constructor(_0x5dff45,_0x11eee4){const _0x4af5a3=a0_0x4c5f;this['namespace']=_0x5dff45,this[_0x4af5a3(0x17e)]=_0x4af5a3(0x17c),this[_0x4af5a3(0x1a6)]={'Authorization':_0x11eee4,'Content-Type':_0x4af5a3(0x19b)};}async[a0_0x29ec5e(0x19c)](){const _0x443919=a0_0x29ec5e;let _0x3c4eaf=[],_0x1ee3b9=null;while(!![]){const {keys:_0x4effe4,cursor:_0x53fd70,list_complete:_0x17117e}=await this['keysPaged']({'cursor':_0x1ee3b9});_0x3c4eaf[_0x443919(0x1a9)](..._0x4effe4);if(_0x17117e)break;_0x1ee3b9=_0x53fd70;}return _0x3c4eaf;}async[a0_0x29ec5e(0x18e)]({limit:limit=0x3e8,cursor:_0x5d03e6=null}={}){const _0x223d25=a0_0x29ec5e,{items:_0x1e95e3,cursor:_0xd3d26,list_complete:_0x352199}=await this['list']({'limit':limit,'cursor':_0x5d03e6}),_0x2476ae=_0x1e95e3[_0x223d25(0x180)](_0x21d2a5=>_0x21d2a5[_0x223d25(0x19f)]);return{'keys':_0x2476ae,'cursor':_0xd3d26,'list_complete':_0x352199};}async[a0_0x29ec5e(0x1a2)](..._0x5ce93a){const _0x4138de=a0_0x29ec5e,_0x4726ab={};let _0x19022e=null;while(!![]){const {items:_0x25a2f2,cursor:_0xe079ea,list_complete:_0x42ed3c}=await this[_0x4138de(0x1a3)]({'cursor':_0x19022e}),_0x407361=_0x5ce93a[_0x4138de(0x18b)]?_0x25a2f2[_0x4138de(0x1a0)](_0x331123=>_0x5ce93a[_0x4138de(0x19d)](_0x262a82=>_0x331123[_0x4138de(0x19f)][_0x4138de(0x18a)](_0x262a82))):_0x25a2f2,_0x2c6c7e=_0x407361['map'](async({name:_0x24456d,metadata:_0x1e67e9})=>{const _0xb4e102=await this['getItem'](_0x24456d);_0x4726ab[_0x24456d]={'value':_0xb4e102,'metadata':_0x1e67e9};});await Promise[_0x4138de(0x1a1)](_0x2c6c7e);if(_0x42ed3c)break;_0x19022e=_0xe079ea;}return _0x4726ab;}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x1bbf72=a0_0x29ec5e;return this[_0x1bbf72(0x190)](_0x1bbf72(0x188),_0x1bbf72(0x187),null,{'limit':limit,'cursor':cursor});}async[a0_0x29ec5e(0x181)](_0x177161,_0x378d87){const _0x48204a=a0_0x29ec5e;return this[_0x48204a(0x190)](_0x48204a(0x17d),'/set',{'key':_0x177161,'value':_0x378d87});}async[a0_0x29ec5e(0x189)](_0x2f8278){const _0x192388=a0_0x29ec5e;return this['fetch'](_0x192388(0x188),'/get',null,{'key':_0x2f8278});}async[a0_0x29ec5e(0x185)](_0x3392d5){const _0x288019=a0_0x29ec5e;return this[_0x288019(0x190)](_0x288019(0x188),'/getWithMetadata',null,{'key':_0x3392d5});}async[a0_0x29ec5e(0x195)](_0x1dec1a){const _0x511017=a0_0x29ec5e;return this[_0x511017(0x190)](_0x511017(0x1a5),_0x511017(0x183),null,{'key':_0x1dec1a});}async['clear'](){const _0x1dba9b=a0_0x29ec5e,_0x1c8a59=await this[_0x1dba9b(0x19c)](),_0x55b07f=_0x1c8a59[_0x1dba9b(0x180)](_0x4319bb=>this[_0x1dba9b(0x195)](_0x4319bb));return await Promise[_0x1dba9b(0x1a1)](_0x55b07f),null;}async['fetch'](_0x3f969c,_0x759da6,_0x32c51a=null,_0x43148d={}){const _0x37277a=a0_0x29ec5e;_0x43148d={..._0x43148d,'namespace':this[_0x37277a(0x197)]};let _0x43c7c6=new URL(''+this['endpoint']+_0x759da6);const _0x3e201f=new URLSearchParams();for(const [_0x22ddeb,_0x5c469f]of Object['entries'](_0x43148d)){_0x5c469f!==undefined&&_0x5c469f!==null&&_0x3e201f[_0x37277a(0x18c)](_0x22ddeb,_0x5c469f);}_0x43c7c6[_0x37277a(0x196)]=_0x3e201f[_0x37277a(0x1a4)]();const _0x49adc0={'method':_0x3f969c,'headers':this['requestHeaders']};if(_0x32c51a)_0x49adc0[_0x37277a(0x1a7)]=JSON[_0x37277a(0x193)](_0x32c51a);try{const _0x56b921=await fetch(_0x43c7c6,_0x49adc0),_0x394de9=await _0x56b921[_0x37277a(0x186)]();if(!_0x56b921['ok'])throw{'error':_0x394de9};return _0x394de9;}catch(_0x383b9f){console[_0x37277a(0x199)](_0x3f969c+'\x20'+_0x43c7c6+'\x20â†’\x20ERROR:\x20'+_0x383b9f[_0x37277a(0x17f)]);throw _0x383b9f;}}}