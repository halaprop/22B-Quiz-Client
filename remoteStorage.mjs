const a0_0x57e805=a0_0x3d4f;function a0_0x3d4f(_0x1f185d,_0x20ce21){const _0x103cc9=a0_0x103c();return a0_0x3d4f=function(_0x3d4f86,_0x484e79){_0x3d4f86=_0x3d4f86-0x1b5;let _0x3709f6=_0x103cc9[_0x3d4f86];return _0x3709f6;},a0_0x3d4f(_0x1f185d,_0x20ce21);}(function(_0x12e78f,_0x3f85e7){const _0x486dec=a0_0x3d4f,_0x541a20=_0x12e78f();while(!![]){try{const _0x1746eb=parseInt(_0x486dec(0x1b6))/0x1+-parseInt(_0x486dec(0x1c0))/0x2+parseInt(_0x486dec(0x1c9))/0x3+parseInt(_0x486dec(0x1cb))/0x4*(-parseInt(_0x486dec(0x1d0))/0x5)+parseInt(_0x486dec(0x1d1))/0x6*(parseInt(_0x486dec(0x1ce))/0x7)+-parseInt(_0x486dec(0x1d3))/0x8*(parseInt(_0x486dec(0x1b9))/0x9)+parseInt(_0x486dec(0x1c1))/0xa;if(_0x1746eb===_0x3f85e7)break;else _0x541a20['push'](_0x541a20['shift']());}catch(_0x575354){_0x541a20['push'](_0x541a20['shift']());}}}(a0_0x103c,0x7a301));function a0_0x103c(){const _0x5e44f5=['/list','getItem','/set','getNamespace','1366086AtSyYV','removeItem','484ZhfRfh','https://remote-storage.dan-5d7.workers.dev/v1','log','7SDkAWv','startsWith','40010zfdYNU','862266pnzUeh','\x20â†’\x20ERROR:\x20','4065488Ifsxbt','keysPaged','list','map','setItem','name','message','fetch','json','160643tTYmtL','body','all','9suLzOp','/get','length','endpoint','/delete','GET','clear','1677726AWXZyK','20560560toWHmj','push','append','entries'];a0_0x103c=function(){return _0x5e44f5;};return a0_0x103c();}export class RemoteStorage{constructor(_0x1e15e9,_0xa5f73){const _0x195d62=a0_0x3d4f;this['namespace']=_0x1e15e9,this[_0x195d62(0x1bc)]=_0x195d62(0x1cc),this['requestHeaders']={'Authorization':_0xa5f73,'Content-Type':'application/json'};}async['keys'](){const _0x4d3ad=a0_0x3d4f;let _0x50e366=[],_0x353130=null;while(!![]){const {keys:_0x1f2ab3,cursor:_0x5a4466,list_complete:_0x59ead6}=await this['keysPaged']({'cursor':_0x353130});_0x50e366[_0x4d3ad(0x1c2)](..._0x1f2ab3);if(_0x59ead6)break;_0x353130=_0x5a4466;}return _0x50e366;}async[a0_0x57e805(0x1d4)]({limit:limit=0x3e8,cursor:_0x4ec6f6=null}={}){const _0x3e80c1=a0_0x57e805,{items:_0x2ecd27,cursor:_0x3f97d4,list_complete:_0x595bf4}=await this[_0x3e80c1(0x1d5)]({'limit':limit,'cursor':_0x4ec6f6}),_0x5485b5=_0x2ecd27[_0x3e80c1(0x1d6)](_0x2a39a9=>_0x2a39a9[_0x3e80c1(0x1d8)]);return{'keys':_0x5485b5,'cursor':_0x3f97d4,'list_complete':_0x595bf4};}async[a0_0x57e805(0x1c8)](..._0x8f5abb){const _0x5e810c=a0_0x57e805,_0x516527={};let _0x1a50d9=null;while(!![]){const {items:_0x3e7527,cursor:_0x4b6fa8,list_complete:_0xa43028}=await this[_0x5e810c(0x1d5)]({'cursor':_0x1a50d9}),_0x274d9d=_0x8f5abb[_0x5e810c(0x1bb)]?_0x3e7527['filter'](_0x19ca50=>_0x8f5abb['some'](_0x41b06d=>_0x19ca50[_0x5e810c(0x1d8)][_0x5e810c(0x1cf)](_0x41b06d))):_0x3e7527,_0x5d8fad=_0x274d9d['map'](async({name:_0x44706c,metadata:_0x2251aa})=>{const _0x13f544=_0x5e810c,_0x1e4df4=await this[_0x13f544(0x1c6)](_0x44706c);_0x516527[_0x44706c]={'value':_0x1e4df4,'metadata':_0x2251aa};});await Promise[_0x5e810c(0x1b8)](_0x5d8fad);if(_0xa43028)break;_0x1a50d9=_0x4b6fa8;}return _0x516527;}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x45e185=a0_0x57e805;return this[_0x45e185(0x1da)]('GET',_0x45e185(0x1c5),null,{'limit':limit,'cursor':cursor});}async[a0_0x57e805(0x1d7)](_0x4299e5,_0x51687c){const _0x2c32d3=a0_0x57e805;return this[_0x2c32d3(0x1da)]('POST',_0x2c32d3(0x1c7),{'key':_0x4299e5,'value':_0x51687c});}async[a0_0x57e805(0x1c6)](_0x414f1a){const _0x544967=a0_0x57e805;return this[_0x544967(0x1da)](_0x544967(0x1be),_0x544967(0x1ba),null,{'key':_0x414f1a});}async['getItemWithMetadata'](_0x1c3322){const _0x3b6806=a0_0x57e805;return this[_0x3b6806(0x1da)](_0x3b6806(0x1be),'/getWithMetadata',null,{'key':_0x1c3322});}async['removeItem'](_0x16e03c){const _0x5b7883=a0_0x57e805;return this['fetch']('DELETE',_0x5b7883(0x1bd),null,{'key':_0x16e03c});}async[a0_0x57e805(0x1bf)](){const _0x12915c=a0_0x57e805,_0x25ff0c=await this['keys'](),_0x58aa53=_0x25ff0c['map'](_0x273e27=>this[_0x12915c(0x1ca)](_0x273e27));return await Promise[_0x12915c(0x1b8)](_0x58aa53),null;}async[a0_0x57e805(0x1da)](_0x10e573,_0x55d1c1,_0x3392d7=null,_0x368085={}){const _0x5b7d2d=a0_0x57e805;_0x368085={..._0x368085,'namespace':this['namespace']};let _0x325a81=new URL(''+this['endpoint']+_0x55d1c1);const _0x3c7e0a=new URLSearchParams();for(const [_0x39cf98,_0x2fc802]of Object[_0x5b7d2d(0x1c4)](_0x368085)){_0x2fc802!==undefined&&_0x2fc802!==null&&_0x3c7e0a[_0x5b7d2d(0x1c3)](_0x39cf98,_0x2fc802);}_0x325a81['search']=_0x3c7e0a['toString']();const _0x3e4b79={'method':_0x10e573,'headers':this['requestHeaders']};if(_0x3392d7)_0x3e4b79[_0x5b7d2d(0x1b7)]=JSON['stringify'](_0x3392d7);try{const _0x332b23=await fetch(_0x325a81,_0x3e4b79),_0xa24270=await _0x332b23[_0x5b7d2d(0x1b5)]();if(!_0x332b23['ok'])throw{'error':_0xa24270};return _0xa24270;}catch(_0xccfa88){console[_0x5b7d2d(0x1cd)](_0x10e573+'\x20'+_0x325a81+_0x5b7d2d(0x1d2)+_0xccfa88[_0x5b7d2d(0x1d9)]);throw _0xccfa88;}}}