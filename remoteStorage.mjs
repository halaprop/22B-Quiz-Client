const a0_0x22c818=a0_0x36bf;function a0_0x1986(){const _0x93cbb7=['all','4493454IrzmOu','stringify','append','endpoint','GET','/getWithMetadata','some','body','push','namespace','96061mYUGNq','POST','fetch','search','clear','keys','DELETE','52LRltPt','entries','https://remote-storage.dan-5d7.workers.dev/v1','list','name','getNamespace','getItem','keysPaged','requestHeaders','151545lrSwwv','startsWith','setItem','/delete','/list','519250yRqQql','removeItem','12bTYLjB','15996LTQUko','length','/set','toString','285898hmFWbH','368CYUARq','\x20â†’\x20ERROR:\x20','json','application/json','map','getItemWithMetadata','4350690Mqxuzi'];a0_0x1986=function(){return _0x93cbb7;};return a0_0x1986();}(function(_0x47011b,_0x167843){const _0x36eb9c=a0_0x36bf,_0x55e1c0=_0x47011b();while(!![]){try{const _0x53eb5d=parseInt(_0x36eb9c(0x1d9))/0x1+-parseInt(_0x36eb9c(0x1dd))/0x2*(parseInt(_0x36eb9c(0x1d8))/0x3)+-parseInt(_0x36eb9c(0x1c8))/0x4*(-parseInt(_0x36eb9c(0x1d1))/0x5)+parseInt(_0x36eb9c(0x1e6))/0x6+-parseInt(_0x36eb9c(0x1f0))/0x7*(parseInt(_0x36eb9c(0x1de))/0x8)+parseInt(_0x36eb9c(0x1e4))/0x9+-parseInt(_0x36eb9c(0x1d6))/0xa;if(_0x53eb5d===_0x167843)break;else _0x55e1c0['push'](_0x55e1c0['shift']());}catch(_0x5318a2){_0x55e1c0['push'](_0x55e1c0['shift']());}}}(a0_0x1986,0x5e919));function a0_0x36bf(_0xd69bc1,_0x3386f6){const _0x198644=a0_0x1986();return a0_0x36bf=function(_0x36bf9d,_0x5db10a){_0x36bf9d=_0x36bf9d-0x1c3;let _0x3f7a41=_0x198644[_0x36bf9d];return _0x3f7a41;},a0_0x36bf(_0xd69bc1,_0x3386f6);}export class RemoteStorage{constructor(_0x4287a6,_0x4162b1){const _0x23dc1b=a0_0x36bf;this[_0x23dc1b(0x1ef)]=_0x4287a6,this[_0x23dc1b(0x1e9)]=_0x23dc1b(0x1ca),this[_0x23dc1b(0x1d0)]={'Authorization':_0x4162b1,'Content-Type':_0x23dc1b(0x1e1)};}async[a0_0x22c818(0x1c6)](){const _0x41d3b3=a0_0x22c818;let _0x37074a=[],_0x1bb453=null;while(!![]){const {keys:_0xba7e98,cursor:_0x5c6c87,list_complete:_0x5228f7}=await this[_0x41d3b3(0x1cf)]({'cursor':_0x1bb453});_0x37074a[_0x41d3b3(0x1ee)](..._0xba7e98);if(_0x5228f7)break;_0x1bb453=_0x5c6c87;}return _0x37074a;}async[a0_0x22c818(0x1cf)]({limit:limit=0x3e8,cursor:_0x4ca854=null}={}){const _0x2efed9=a0_0x22c818,{items:_0x4e920d,cursor:_0xb95269,list_complete:_0xa478d9}=await this[_0x2efed9(0x1cb)]({'limit':limit,'cursor':_0x4ca854}),_0x33a545=_0x4e920d[_0x2efed9(0x1e2)](_0x487d8c=>_0x487d8c[_0x2efed9(0x1cc)]);return{'keys':_0x33a545,'cursor':_0xb95269,'list_complete':_0xa478d9};}async[a0_0x22c818(0x1cd)](..._0x5a4ec7){const _0x3958e6=a0_0x22c818,_0x5d03b2={};let _0x499dc6=null;while(!![]){const {items:_0x1530a8,cursor:_0x32073d,list_complete:_0x954c33}=await this['list']({'cursor':_0x499dc6}),_0x21e708=_0x5a4ec7[_0x3958e6(0x1da)]?_0x1530a8['filter'](_0x24ea69=>_0x5a4ec7[_0x3958e6(0x1ec)](_0x12d0a9=>_0x24ea69['name'][_0x3958e6(0x1d2)](_0x12d0a9))):_0x1530a8,_0x15b306=_0x21e708[_0x3958e6(0x1e2)](async({name:_0x201bbe,metadata:_0x35fd19})=>{const _0x363785=_0x3958e6,_0x2caa8b=await this[_0x363785(0x1ce)](_0x201bbe);_0x5d03b2[_0x201bbe]={'value':_0x2caa8b,'metadata':_0x35fd19};});await Promise['all'](_0x15b306);if(_0x954c33)break;_0x499dc6=_0x32073d;}return _0x5d03b2;}async[a0_0x22c818(0x1cb)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x21ed96=a0_0x22c818;return this['fetch'](_0x21ed96(0x1ea),_0x21ed96(0x1d5),null,{'limit':limit,'cursor':cursor});}async[a0_0x22c818(0x1d3)](_0x3c9ecd,_0x19c99f){const _0x3e5273=a0_0x22c818;return this['fetch'](_0x3e5273(0x1f1),_0x3e5273(0x1db),{'key':_0x3c9ecd,'value':_0x19c99f});}async[a0_0x22c818(0x1ce)](_0x607c46){const _0x2b83ae=a0_0x22c818;return this[_0x2b83ae(0x1c3)](_0x2b83ae(0x1ea),'/get',null,{'key':_0x607c46});}async[a0_0x22c818(0x1e3)](_0xa1aa39){const _0x101fc4=a0_0x22c818;return this[_0x101fc4(0x1c3)](_0x101fc4(0x1ea),_0x101fc4(0x1eb),null,{'key':_0xa1aa39});}async[a0_0x22c818(0x1d7)](_0x4ba5c0){const _0x3203e0=a0_0x22c818;return this[_0x3203e0(0x1c3)](_0x3203e0(0x1c7),_0x3203e0(0x1d4),null,{'key':_0x4ba5c0});}async[a0_0x22c818(0x1c5)](){const _0x1449d9=a0_0x22c818,_0x407938=await this[_0x1449d9(0x1c6)](),_0xb98116=_0x407938[_0x1449d9(0x1e2)](_0x321b3e=>this[_0x1449d9(0x1d7)](_0x321b3e));return await Promise[_0x1449d9(0x1e5)](_0xb98116),null;}async[a0_0x22c818(0x1c3)](_0x599bad,_0x481f91,_0x426313=null,_0x246a73={}){const _0x48ddfb=a0_0x22c818;_0x246a73={..._0x246a73,'namespace':this[_0x48ddfb(0x1ef)]};let _0x71ec5f=new URL(''+this[_0x48ddfb(0x1e9)]+_0x481f91);const _0x3a0c76=new URLSearchParams();for(const [_0x1b3ba8,_0x47bfea]of Object[_0x48ddfb(0x1c9)](_0x246a73)){_0x47bfea!==undefined&&_0x47bfea!==null&&_0x3a0c76[_0x48ddfb(0x1e8)](_0x1b3ba8,_0x47bfea);}_0x71ec5f[_0x48ddfb(0x1c4)]=_0x3a0c76[_0x48ddfb(0x1dc)]();const _0x2e9f2d={'method':_0x599bad,'headers':this[_0x48ddfb(0x1d0)]};if(_0x426313)_0x2e9f2d[_0x48ddfb(0x1ed)]=JSON[_0x48ddfb(0x1e7)](_0x426313);try{const _0x50c45c=await fetch(_0x71ec5f,_0x2e9f2d),_0x2e9bc9=await _0x50c45c[_0x48ddfb(0x1e0)]();if(!_0x50c45c['ok'])throw{'error':_0x2e9bc9};return _0x2e9bc9;}catch(_0x545483){console['log'](_0x599bad+'\x20'+_0x71ec5f+_0x48ddfb(0x1df)+_0x545483['message']);throw _0x545483;}}}